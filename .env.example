# Finanzas API Configuration
# Copy this to .env.local and update with your values

# ⚠️ REQUIRED: Finanzas API Base URL (URL)
# Finanzas uses the API **dev stage as production** right now.
# - Local dev / prod builds both point to the dev stage.
# - Build will FAIL if this is not set when BUILD_TARGET=finanzas.
VITE_API_BASE_URL=https://pyorjw6lbe.execute-api.us-east-2.amazonaws.com/dev

# Legacy API Gateway URL (deprecated - use VITE_API_BASE_URL instead)
VITE_API_URL=https://pyorjw6lbe.execute-api.us-east-2.amazonaws.com/dev

# Cognito Configuration (Implicit flow: response_type=token)
# - Pool & client IDs are REQUIRED for authentication
# - Hosted UI domain uses format: <domain>.auth.<region>.amazoncognito.com (no trailing hyphen)
VITE_COGNITO_USER_POOL_ID=us-east-2_FyHLtOhiY
VITE_COGNITO_CLIENT_ID=dshos5iou44tuach7ta3ici5m
VITE_COGNITO_REGION=us-east-2
VITE_COGNITO_DOMAIN=us-east-2fyhltohiy.auth.us-east-2.amazoncognito.com

# CloudFront Configuration (URL)
# Used to construct Hosted UI redirects for Finanzas bundle
VITE_CLOUDFRONT_URL=https://d7t9x3j66yd8k.cloudfront.net

# Hosted UI redirect targets (URLs) — optional overrides
# Default signin: <CLOUDFRONT_URL>/finanzas/auth/callback.html
# Default signout: <CLOUDFRONT_URL>/finanzas/
VITE_COGNITO_REDIRECT_SIGNIN=https://d7t9x3j66yd8k.cloudfront.net/finanzas/auth/callback.html
VITE_COGNITO_REDIRECT_SIGNOUT=https://d7t9x3j66yd8k.cloudfront.net/finanzas/

# Optional: Cognito Identity Pool (only if browser needs direct AWS service access)
VITE_COGNITO_IDENTITY_POOL_ID=us-east-2:your-identity-pool-id

# Optional: S3 Bucket (only if UI uploads to S3 directly)
VITE_S3_BUCKET=your-s3-bucket-name

# AWS Region
VITE_AWS_REGION=us-east-2

# Environment
VITE_ENVIRONMENT=development

# Feature Flags (booleans)
VITE_FINZ_ENABLED=true
VITE_ENABLE_API_INTEGRATION=true
VITE_ENABLE_MOCK_FALLBACK=true

# Forecast Layout Feature Flags
# Enable new forecast page layout (moves Cuadrícula de Pronóstico to top, compact KPI summary)
VITE_FINZ_NEW_FORECAST_LAYOUT=true

# Show Key Trends variance cards (Proyectos/Rubros con mayor variación)
# Default: false (hidden). Set to 'true' to show in executive view
VITE_FINZ_SHOW_KEYTRENDS=false

# Multi-SPA Integration (URLs)
# Cross-SPA navigation URLs for buttons that navigate to other SPAs on same CloudFront distribution
# If not set, uses fallback URLs based on VITE_CLOUDFRONT_URL
VITE_PREFACTURAS_URL=https://d7t9x3j66yd8k.cloudfront.net/prefacturas/login
VITE_ACTA_BASE_URL=https://d7t9x3j66yd8k.cloudfront.net/login

# ═══════════════════════════════════════════════════════════════════════
# COGNITO OAUTH CONFIGURATION NOTES
# ═══════════════════════════════════════════════════════════════════════
#
# The following must be configured in AWS Cognito console for the app client:
#
# App Client Name: Ikusi-acta-ui-web
# App Client ID: dshos5iou44tuach7ta3ici5m
#
# OAuth 2.0 Grant Types:
#   ✅ Authorization code grant (enabled)
#   ✅ Implicit grant (enabled) - REQUIRED for Hosted UI
#
# Allowed Callback URLs:
#   - https://d7t9x3j66yd8k.cloudfront.net/finanzas/
#   - https://d7t9x3j66yd8k.cloudfront.net/finanzas/auth/callback.html
#   - https://d7t9x3j66yd8k.cloudfront.net/finanzas/index.html (temporary legacy)
#
# Allowed Sign-out URLs:
#   - https://d7t9x3j66yd8k.cloudfront.net/finanzas/
#
# OpenID Connect Scopes:
#   ✅ openid (required for id_token)
#   ✅ email
#   ✅ profile
#   ✅ aws.cognito.signin.user.admin
#
# Response Type (configured in src/config/aws.ts):
#   - "token" (implicit grant)
#   - Delivers both id_token and access_token in URL hash fragment when scope includes openid
#
# For troubleshooting, see docs/FINANZAS_CONFIGURATION.md
#
