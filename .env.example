# Finanzas API Configuration
# Copy this to .env.local and update with your values

# ⚠️ REQUIRED: Finanzas API Base URL (URL)
# Finanzas uses the API **dev stage as production** right now.
# - Local dev / prod builds both point to the dev stage.
# - Build will FAIL if this is not set when BUILD_TARGET=finanzas.
VITE_API_BASE_URL=https://pyorjw6lbe.execute-api.us-east-2.amazonaws.com/dev

# Legacy API Gateway URL (deprecated - use VITE_API_BASE_URL instead)
VITE_API_URL=https://pyorjw6lbe.execute-api.us-east-2.amazonaws.com/dev

# Cognito Configuration (Implicit flow: response_type=token)
# - Pool & client IDs are REQUIRED for authentication
# - Hosted UI domain uses format: <domain>.auth.<region>.amazoncognito.com (no trailing hyphen)
VITE_COGNITO_USER_POOL_ID=us-east-2_FyHLtOhiY
VITE_COGNITO_CLIENT_ID=dshos5iou44tuach7ta3ici5m
VITE_COGNITO_REGION=us-east-2
VITE_COGNITO_DOMAIN=us-east-2fyhltohiy.auth.us-east-2.amazoncognito.com

# CloudFront Configuration (URL)
# Used to construct Hosted UI redirects for Finanzas bundle
VITE_CLOUDFRONT_URL=https://d7t9x3j66yd8k.cloudfront.net

# Hosted UI redirect targets (URLs) — optional overrides
# Default signin: <CLOUDFRONT_URL>/finanzas/auth/callback.html
# Default signout: <CLOUDFRONT_URL>/finanzas/
VITE_COGNITO_REDIRECT_SIGNIN=https://d7t9x3j66yd8k.cloudfront.net/finanzas/auth/callback.html
VITE_COGNITO_REDIRECT_SIGNOUT=https://d7t9x3j66yd8k.cloudfront.net/finanzas/

# Optional: Cognito Identity Pool (only if browser needs direct AWS service access)
VITE_COGNITO_IDENTITY_POOL_ID=us-east-2:your-identity-pool-id

# Optional: S3 Bucket (only if UI uploads to S3 directly)
VITE_S3_BUCKET=your-s3-bucket-name

# AWS Region
VITE_AWS_REGION=us-east-2

# Environment
VITE_ENVIRONMENT=development

# Feature Flags (booleans)
VITE_FINZ_ENABLED=true
VITE_ENABLE_API_INTEGRATION=true
VITE_ENABLE_MOCK_FALLBACK=true

# PMO Estimator Feature Flags
# Enable FX and Indexation parameters step in estimator wizard (defaults to false/hidden)
VITE_ENABLE_FX_PARAMS=false

# Forecast Layout Feature Flags
# Enable new forecast page layout (SDMTForecastV2 - Executive Dashboard)
# When enabled:
#   - Shows "Resumen Ejecutivo (SDMT)" in navigation
#   - Enables /sdmt/cost/forecast-v2 route
#   - Provides 5-position modular dashboard layout
#   - Uses real API data (no mocks in production)
# Default: false (disabled for production)
# Preferred flag: VITE_FINZ_USE_FORECAST_V2
# Legacy flag: VITE_FINZ_NEW_FORECAST_LAYOUT (maintained for backward compatibility)
# See: docs/FORECAST_FLAGS.md for details
VITE_FINZ_USE_FORECAST_V2=false
VITE_FINZ_NEW_FORECAST_LAYOUT=false

# ┌─────────────────────────────────────────────────────────────────────┐
# │ DEV-FRIENDLY DEFAULTS (Uncomment for local development)            │
# ├─────────────────────────────────────────────────────────────────────┤
# │ For local development, uncomment these to enable Executive V2:     │
# │                                                                     │
# │ VITE_FINZ_USE_FORECAST_V2=true                                     │
# │ VITE_FINZ_V2_SHOW_POSITION_1_EXEC_SUMMARY=true                     │
# │ VITE_FINZ_V2_SHOW_POSITION_2_PAYROLL_MONTHLY=true                  │
# │ VITE_FINZ_V2_SHOW_POSITION_3_FORECAST_GRID=true                    │
# │ VITE_FINZ_V2_SHOW_POSITION_4_MATRIZ_MONTH_BAR=true                 │
# │ VITE_FINZ_V2_SHOW_POSITION_5_CHARTS_PANEL=true                     │
# │ VITE_FINZ_V2_SHOW_KEYTRENDS=true                                   │
# │ VITE_FINZ_V2_SHOW_PORTFOLIO_KPIS=true                              │
# │ VITE_FINZ_V2_ALLOW_BUDGET_EDIT=true                                │
# │ VITE_FINZ_V2_MONTHS_DEFAULT=60                                     │
# │                                                                     │
# │ Or copy these values from .env.development for quick setup         │
# └─────────────────────────────────────────────────────────────────────┘

# V2 Position Flags (Executive Dashboard modular layout)
# Control visibility of individual positions in the Executive Dashboard
VITE_FINZ_V2_SHOW_POSITION_1_EXEC_SUMMARY=false
VITE_FINZ_V2_SHOW_POSITION_2_PAYROLL_MONTHLY=false
VITE_FINZ_V2_SHOW_POSITION_3_FORECAST_GRID=false
VITE_FINZ_V2_SHOW_POSITION_4_MATRIZ_MONTH_BAR=false
VITE_FINZ_V2_SHOW_POSITION_5_CHARTS_PANEL=false

# V2 Executive-Specific Flags
VITE_FINZ_V2_SHOW_KEYTRENDS=false
VITE_FINZ_V2_SHOW_PORTFOLIO_KPIS=false
VITE_FINZ_V2_ALLOW_BUDGET_EDIT=false
VITE_FINZ_V2_MONTHS_DEFAULT=60

# Show Key Trends (Proyectos & Rubros) in BAU Executive view. Default: false (hidden)
VITE_FINZ_SHOW_KEYTRENDS=false

# V2 feature toggles (legacy - use VITE_FINZ_V2_SHOW_KEYTRENDS instead)
# When true shows Key Trends in the V2 Forecast layout. Falls back to VITE_FINZ_SHOW_KEYTRENDS when unset.

# Hide Key Trends override - takes precedence over SHOW_KEY_TRENDS. Default: false
VITE_FINZ_HIDE_KEY_TRENDS=false

# Hide Real Annual Budget KPIs in TODOS/Portfolio view. Default: false (shown)
VITE_FINZ_HIDE_REAL_ANNUAL_KPIS=false

# Hide "Resumen de todos los proyectos" collapsible in TODOS mode. Default: false (shown)
VITE_FINZ_HIDE_PROJECT_SUMMARY=false

# Only show Monthly Breakdown Table transposed (months as columns) in TODOS/portfolio mode. Default: false
VITE_FINZ_ONLY_SHOW_MONTHLY_BREAKDOWN_TRANSPOSED=false

# Hide Expandable Project List in Portfolio Summary. Default: false (shown)
VITE_FINZ_HIDE_EXPANDABLE_PROJECT_LIST=false

# Hide Runway Metrics Summary in Portfolio Summary. Default: false (shown)
VITE_FINZ_HIDE_RUNWAY_METRICS=false

# Incremental Migration Flags
# Enable ForecastRubrosAdapter for Position #7 in SDMTForecast. Default: false (uses legacy table)
VITE_ENABLE_RUBROS_ADAPTER=false

# Tier 3 Design System Feature Flags
# Enable new design system components (DashboardLayout, StandardTable, Chip). Default: false
VITE_FINZ_NEW_DESIGN_SYSTEM=false

# Multi-SPA Integration (URLs)
# Cross-SPA navigation URLs for buttons that navigate to other SPAs on same CloudFront distribution
# If not set, uses fallback URLs based on VITE_CLOUDFRONT_URL
VITE_PREFACTURAS_URL=https://df7rl707jhpas.cloudfront.net/prefacturas/facturas
VITE_ACTA_BASE_URL=https://d7t9x3j66yd8k.cloudfront.net/login

# ═══════════════════════════════════════════════════════════════════════
# COGNITO OAUTH CONFIGURATION NOTES
# ═══════════════════════════════════════════════════════════════════════
#
# The following must be configured in AWS Cognito console for the app client:
#
# App Client Name: Ikusi-acta-ui-web
# App Client ID: dshos5iou44tuach7ta3ici5m
#
# OAuth 2.0 Grant Types:
#   ✅ Authorization code grant (enabled)
#   ✅ Implicit grant (enabled) - REQUIRED for Hosted UI
#
# Allowed Callback URLs:
#   - https://d7t9x3j66yd8k.cloudfront.net/finanzas/
#   - https://d7t9x3j66yd8k.cloudfront.net/finanzas/auth/callback.html
#   - https://d7t9x3j66yd8k.cloudfront.net/finanzas/index.html (temporary legacy)
#
# Allowed Sign-out URLs:
#   - https://d7t9x3j66yd8k.cloudfront.net/finanzas/
#
# OpenID Connect Scopes:
#   ✅ openid (required for id_token)
#   ✅ email
#   ✅ profile
#   ✅ aws.cognito.signin.user.admin
#
# Response Type (configured in src/config/aws.ts):
#   - "token" (implicit grant)
#   - Delivers both id_token and access_token in URL hash fragment when scope includes openid
#
# For troubleshooting, see docs/FINANZAS_CONFIGURATION.md
#
