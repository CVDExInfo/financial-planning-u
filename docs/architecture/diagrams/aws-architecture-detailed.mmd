---
title: Financial Planning System - AWS Architecture
description: Comprehensive AWS cloud architecture for PMO Estimator and SDMT Cost Management platform
---

%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#FF9900','primaryTextColor':'#232F3E','primaryBorderColor':'#232F3E','lineColor':'#545B64','secondaryColor':'#EC7211','tertiaryColor':'#146EB4'}}}%%

graph TB
    subgraph "üåê Client Access Layer"
        USER1[üë§ PMO User]
        USER2[üë• SDMT User]
        USER3[üëî Executive]
        USER4[üè¢ Vendor]
    end
    
    subgraph "üì° AWS Global Infrastructure"
        subgraph "Route 53"
            DNS[Route 53<br/>DNS Management<br/>Health Checks]
        end
        
        subgraph "CloudFront CDN"
            CF[CloudFront Distribution<br/>/finanzas/* path<br/>Global Edge Locations<br/>SSL/TLS Termination]
        end
        
        subgraph "WAF & Shield"
            WAF[AWS WAF<br/>DDoS Protection<br/>Rate Limiting<br/>Geo-blocking]
        end
    end
    
    subgraph "üîê Authentication & Authorization - us-east-2"
        subgraph "Cognito"
            COGNITO[AWS Cognito User Pool<br/>User Management<br/>Groups: PMO, SDMT, VENDOR, EXEC_RO<br/>JWT Token Generation]
            HOSTED_UI[Cognito Hosted UI<br/>OAuth 2.0 Implicit Flow<br/>Username/Password Auth]
        end
        
        subgraph "Verified Permissions"
            AVP[Amazon Verified Permissions<br/>Policy Store<br/>RBAC Engine<br/>Fine-grained Access Control]
        end
    end
    
    subgraph "üñ•Ô∏è Frontend Layer - S3 + CloudFront"
        S3_UI[S3 Bucket Private<br/>React 19 + Vite 6 SPA<br/>Static Assets<br/>Tailwind CSS v4]
        OAC[Origin Access Control<br/>Bucket Policy]
    end
    
    subgraph "üö™ API Layer - us-east-2"
        subgraph "API Gateway"
            APIGW[API Gateway REST<br/>/finanzas-api/*<br/>Request Validation<br/>Throttling & Quotas]
            APIGW_AUTH[Custom Authorizer Lambda<br/>JWT Verification<br/>AVP Permission Check]
        end
        
        subgraph "VPC Lambda Functions"
            direction TB
            L_PMO[PMO Service Lambda<br/>Project Estimator<br/>Baseline Budget Creation<br/>Digital Signatures]
            L_SDMT[SDMT Service Lambda<br/>Cost Catalog CRUD<br/>Ikusi Service Tiers<br/>ROI Calculations]
            L_FORECAST[Forecast Service Lambda<br/>60-Month Grid Operations<br/>Variance Calculations<br/>CSV/Excel Import]
            L_RECON[Reconciliation Lambda<br/>Invoice Processing<br/>Matching Engine<br/>Dispute Management]
            L_CASHFLOW[Analytics Lambda<br/>Cash Flow Projections<br/>Margin Analysis<br/>Chart Data Generation]
            L_EXPORT[Export Service Lambda<br/>PDF Generation<br/>Excel with Formulas<br/>SharePoint Integration]
        end
    end
    
    subgraph "üíæ Data Layer - us-east-2 VPC"
        subgraph "DynamoDB"
            DDB_PROJECTS[Projects Table<br/>GSI: status, pm_id<br/>Point-in-time Recovery]
            DDB_BASELINES[Budget Baselines<br/>Signature Verification<br/>Immutable Records]
            DDB_CATALOG[Cost Catalog Table<br/>GSI: category, tier<br/>Versioned Items]
            DDB_FORECASTS[Forecast Allocations<br/>Sparse Index: period<br/>Time-series Data]
            DDB_INVOICES[Invoice Records<br/>GSI: status, project<br/>Audit Trail]
            DDB_USERS[User Preferences<br/>Session State<br/>Role Cache]
        end
        
        subgraph "S3 Storage"
            S3_DOCS[S3 Documents Bucket<br/>PDF Exports<br/>Excel Templates<br/>Invoice Attachments<br/>Lifecycle Policies]
        end
        
        subgraph "ElastiCache Optional"
            REDIS[ElastiCache Redis<br/>Session Cache<br/>Frequent Queries<br/>Real-time Aggregations]
        end
    end
    
    subgraph "üìä Observability & Monitoring"
        CW[CloudWatch<br/>Logs Aggregation<br/>Custom Metrics<br/>Alarms & Dashboards]
        XRAY[X-Ray<br/>Distributed Tracing<br/>Service Map<br/>Performance Analytics]
        SYNTHETICS[CloudWatch Synthetics<br/>Canary Tests<br/>Availability Monitoring<br/>SLA Compliance]
    end
    
    subgraph "üîî Event Processing"
        SNS[SNS Topics<br/>Budget Alerts<br/>Approval Notifications<br/>System Events]
        SQS[SQS Queues<br/>Async Processing<br/>Dead Letter Queues<br/>Event Replay]
        EVENTBRIDGE[EventBridge<br/>Scheduled Jobs<br/>Integration Events<br/>Cross-Service Orchestration]
    end
    
    subgraph "üîí Security & Compliance"
        SECRETS[AWS Secrets Manager<br/>API Keys<br/>Database Credentials<br/>Rotation Policies]
        KMS[AWS KMS<br/>Encryption Keys<br/>Data at Rest<br/>Data in Transit]
        CLOUDTRAIL[CloudTrail<br/>Audit Logs<br/>API Activity<br/>Compliance Evidence]
    end
    
    subgraph "üîÑ External Integrations"
        SHAREPOINT[Microsoft Graph API<br/>SharePoint Online<br/>Document Library<br/>OAuth Integration]
        EMAIL[SES<br/>Transactional Email<br/>Budget Notifications<br/>Report Distribution]
    end

    %% User to CDN Flow
    USER1 & USER2 & USER3 & USER4 --> DNS
    DNS --> WAF
    WAF --> CF
    CF --> S3_UI
    S3_UI -.OAC.-> OAC
    
    %% Frontend to Backend
    S3_UI --> COGNITO
    COGNITO --> HOSTED_UI
    S3_UI --> APIGW
    
    %% API Gateway Flow
    APIGW --> APIGW_AUTH
    APIGW_AUTH --> COGNITO
    APIGW_AUTH --> AVP
    
    %% Lambda Routing
    APIGW --> L_PMO
    APIGW --> L_SDMT
    APIGW --> L_FORECAST
    APIGW --> L_RECON
    APIGW --> L_CASHFLOW
    APIGW --> L_EXPORT
    
    %% Lambda to Data
    L_PMO --> DDB_PROJECTS
    L_PMO --> DDB_BASELINES
    L_SDMT --> DDB_CATALOG
    L_FORECAST --> DDB_FORECASTS
    L_RECON --> DDB_INVOICES
    L_CASHFLOW --> DDB_FORECASTS
    L_EXPORT --> S3_DOCS
    
    %% Cross-service data access
    L_PMO & L_SDMT & L_FORECAST & L_RECON & L_CASHFLOW --> DDB_USERS
    L_FORECAST & L_CASHFLOW --> REDIS
    
    %% External integrations
    L_EXPORT --> SHAREPOINT
    L_PMO & L_RECON --> EMAIL
    
    %% Event flows
    L_PMO & L_RECON --> SNS
    SNS --> SQS
    EVENTBRIDGE --> L_CASHFLOW
    
    %% Observability
    APIGW & L_PMO & L_SDMT & L_FORECAST & L_RECON & L_CASHFLOW & L_EXPORT --> CW
    APIGW & L_PMO & L_SDMT & L_FORECAST & L_RECON & L_CASHFLOW --> XRAY
    SYNTHETICS --> CF
    
    %% Security
    L_PMO & L_SDMT & L_FORECAST & L_RECON & L_CASHFLOW & L_EXPORT -.uses.-> SECRETS
    DDB_PROJECTS & DDB_BASELINES & DDB_CATALOG & DDB_FORECASTS & DDB_INVOICES & S3_DOCS -.encrypted.-> KMS
    APIGW & COGNITO & AVP -.audited.-> CLOUDTRAIL

    %% Styling
    classDef awsOrange fill:#FF9900,stroke:#232F3E,stroke-width:2px,color:#232F3E
    classDef awsBlue fill:#146EB4,stroke:#232F3E,stroke-width:2px,color:#fff
    classDef awsGreen fill:#3F8624,stroke:#232F3E,stroke-width:2px,color:#fff
    classDef awsPurple fill:#8B5CF6,stroke:#232F3E,stroke-width:2px,color:#fff
    classDef awsRed fill:#D13212,stroke:#232F3E,stroke-width:2px,color:#fff
    
    class CF,DNS,WAF awsOrange
    class COGNITO,AVP,APIGW,APIGW_AUTH awsBlue
    class DDB_PROJECTS,DDB_BASELINES,DDB_CATALOG,DDB_FORECASTS,DDB_INVOICES,DDB_USERS awsGreen
    class L_PMO,L_SDMT,L_FORECAST,L_RECON,L_CASHFLOW,L_EXPORT awsPurple
    class CW,XRAY,SYNTHETICS,CLOUDTRAIL awsRed
