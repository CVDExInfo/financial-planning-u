---
title: Financial Planning System - AWS Architecture (Simplified)
---

%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#FF9900','primaryTextColor':'#232F3E'}}}%%

flowchart LR
  USER["ğŸ‘¤ Users<br/>(PMO/SDMT/VENDOR/EXEC)"] --> CF["â˜ï¸ CloudFront<br/>/finanzas/*"]
  CF --> S3_UI["ğŸ“¦ S3 Bucket<br/>React SPA<br/>(Private with OAC)"]
  
  USER -->|Authenticate| COG["ğŸ” Cognito User Pool<br/>Groups: PMO/SDMT/VENDOR/EXEC_RO"]
  
  S3_UI -->|JWT Token| APIGW["ğŸšª API Gateway<br/>finanzas-api"]
  APIGW -->|Authorize| AVP["âœ… Verified Permissions<br/>RBAC Engine"]
  APIGW -->|Validate| COG
  
  APIGW --> L_PMO["âš™ï¸ PMO Lambda<br/>Estimator & Baselines"]
  APIGW --> L_SDMT["âš™ï¸ SDMT Lambda<br/>Cost Catalog"]
  APIGW --> L_FORECAST["âš™ï¸ Forecast Lambda<br/>60-Month Grid"]
  APIGW --> L_RECON["âš™ï¸ Reconciliation Lambda<br/>Invoice Matching"]
  APIGW --> L_ANALYTICS["âš™ï¸ Analytics Lambda<br/>Cash Flow & Margins"]
  
  L_PMO & L_SDMT & L_FORECAST & L_RECON & L_ANALYTICS --> DDB["ğŸ’¾ DynamoDB Tables<br/>Projects, Budgets, Forecasts<br/>Catalog, Invoices"]
  
  L_PMO & L_ANALYTICS --> S3_DOCS["ğŸ“„ S3 Documents<br/>PDFs, Excel Exports"]
  S3_DOCS --> SHAREPOINT["ğŸ”— SharePoint Online<br/>via Microsoft Graph"]
  
  EVB["â° EventBridge<br/>Scheduled Jobs"] -.-> L_ANALYTICS
  SNS["ğŸ“§ SNS Topics<br/>Notifications"] --> EMAIL["âœ‰ï¸ SES<br/>Email Delivery"]
  L_PMO & L_RECON --> SNS
  
  CW["ğŸ“Š CloudWatch<br/>Logs & Metrics"]:::obs -.-> L_PMO & L_SDMT & L_FORECAST & L_RECON & L_ANALYTICS
  XRAY["ğŸ” X-Ray<br/>Tracing"]:::obs -.-> APIGW
  
  classDef obs fill:#D13212,stroke:#232F3E,stroke-width:2px,color:#fff
