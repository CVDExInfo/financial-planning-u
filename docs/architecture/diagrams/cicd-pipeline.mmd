---
title: Financial Planning System - CI/CD Pipeline
description: Automated build, test, and deployment pipeline using GitHub Actions and AWS
---

%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#2088FF','primaryTextColor':'#fff','primaryBorderColor':'#1a73e8'}}}%%

graph LR
    subgraph "ðŸ“¦ Source Control - GitHub"
        GIT[Git Repository<br/>main, dev, feature branches]
        PR[Pull Request<br/>Code Review]
    end
    
    subgraph "ðŸ”„ GitHub Actions Workflows"
        subgraph "Frontend Pipeline"
            F_LINT[Lint & Type Check<br/>ESLint + TypeScript]
            F_TEST[Unit Tests<br/>Vitest]
            F_BUILD[Build SPA<br/>Vite Production Build]
            F_SECURITY[Security Scan<br/>npm audit + Snyk]
        end
        
        subgraph "Backend Pipeline"
            B_LINT[Lint & Validate<br/>SAM Validate<br/>OpenAPI Lint]
            B_TEST[Integration Tests<br/>Lambda Tests<br/>API Contract Tests]
            B_BUILD[SAM Build<br/>Package Lambdas]
            B_SECURITY[Security Scan<br/>CodeQL + Checkov]
        end
        
        subgraph "Docs Pipeline"
            D_VALIDATE[Validate Diagrams<br/>Mermaid Syntax]
            D_RENDER[Render Docs<br/>Mermaid to SVG<br/>MD to PDF/DOCX]
            D_PACKAGE[Package for Client<br/>Branded ZIP]
        end
    end
    
    subgraph "ðŸ§ª Test Environments"
        DEV_ENV[Development<br/>dev.finanzas.domain.com<br/>Auto-deploy from dev branch]
        STG_ENV[Staging<br/>staging.finanzas.domain.com<br/>Manual approval required]
    end
    
    subgraph "ðŸ”’ Security & Quality Gates"
        SAST[SAST Tools<br/>CodeQL, Snyk<br/>Dependency Check]
        APPROVAL[Manual Approval<br/>Tech Lead Review<br/>QA Sign-off]
    end
    
    subgraph "ðŸš€ AWS Deployment - us-east-2"
        subgraph "Frontend Deployment"
            S3_DEPLOY[S3 Sync<br/>Upload Built Assets<br/>to s3://bucket/finanzas/]
            CF_INVALIDATE[CloudFront Invalidation<br/>/finanzas/* paths]
        end
        
        subgraph "Backend Deployment"
            SAM_DEPLOY[SAM Deploy<br/>CloudFormation Stack<br/>Lambda, API Gateway, DDB]
            SECRETS_UPDATE[Update Secrets<br/>Secrets Manager<br/>Rotation if needed]
        end
        
        subgraph "Infrastructure as Code"
            CFN[CloudFormation<br/>Stack Updates<br/>Drift Detection]
            PARAMS[Parameter Store<br/>Environment Configs]
        end
    end
    
    subgraph "ðŸ“Š Post-Deployment"
        SMOKE[Smoke Tests<br/>CloudWatch Synthetics<br/>API Health Checks]
        MONITOR[Monitoring Setup<br/>CloudWatch Alarms<br/>X-Ray Tracing]
        ROLLBACK[Rollback Strategy<br/>CloudFormation Rollback<br/>Previous S3 Version]
    end
    
    subgraph "ðŸ”” Notifications"
        SLACK[Slack Notifications<br/>Build Status<br/>Deployment Alerts]
        EMAIL[Email Alerts<br/>Failures<br/>Security Issues]
    end
    
    %% Flow connections
    GIT --> PR
    PR --> F_LINT & B_LINT & D_VALIDATE
    
    F_LINT --> F_TEST
    F_TEST --> F_BUILD
    F_BUILD --> F_SECURITY
    
    B_LINT --> B_TEST
    B_TEST --> B_BUILD
    B_BUILD --> B_SECURITY
    
    D_VALIDATE --> D_RENDER
    D_RENDER --> D_PACKAGE
    
    F_SECURITY & B_SECURITY --> SAST
    SAST -.pass.-> DEV_ENV
    
    DEV_ENV --> F_BUILD & B_BUILD
    F_BUILD --> S3_DEPLOY
    S3_DEPLOY --> CF_INVALIDATE
    B_BUILD --> SAM_DEPLOY
    SAM_DEPLOY --> SECRETS_UPDATE
    
    DEV_ENV -.success.-> APPROVAL
    APPROVAL -.approved.-> STG_ENV
    
    STG_ENV --> S3_DEPLOY & SAM_DEPLOY
    CF_INVALIDATE & SECRETS_UPDATE --> SMOKE
    
    SMOKE -.success.-> MONITOR
    SMOKE -.failure.-> ROLLBACK
    
    SAST --> SLACK & EMAIL
    SMOKE --> SLACK
    ROLLBACK --> EMAIL
    
    %% Styling
    classDef ciBlue fill:#2088FF,stroke:#1a73e8,stroke-width:2px,color:#fff
    classDef awsOrange fill:#FF9900,stroke:#232F3E,stroke-width:2px,color:#232F3E
    classDef securityRed fill:#D13212,stroke:#232F3E,stroke-width:2px,color:#fff
    classDef successGreen fill:#3F8624,stroke:#232F3E,stroke-width:2px,color:#fff
    
    class F_LINT,F_TEST,F_BUILD,B_LINT,B_TEST,B_BUILD,D_VALIDATE,D_RENDER ciBlue
    class S3_DEPLOY,CF_INVALIDATE,SAM_DEPLOY,CFN awsOrange
    class SAST,F_SECURITY,B_SECURITY,APPROVAL securityRed
    class SMOKE,MONITOR successGreen
